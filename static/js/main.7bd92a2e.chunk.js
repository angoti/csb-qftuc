(this.webpackJsonpleilao=this.webpackJsonpleilao||[]).push([[0],{35:function(e,t,c){},60:function(e,t,c){"use strict";c.r(t);var n=c(1),a=c(27),s=c.n(a),i=c(11),o=c(2),l=(c(34),c(35),c(8)),r=c(28),j=c.n(r).a.create({baseURL:"https://leilao-rest-api.herokuapp.com",headers:{"Content-type":"application/json"}}),b=c(0),d=function(){var e=Object(n.useState)([]),t=Object(l.a)(e,2),c=t[0],a=t[1],s=Object(n.useState)(null),o=Object(l.a)(s,2),r=o[0],d=o[1],m=Object(n.useState)(-1),u=Object(l.a)(m,2),h=u[0],p=u[1];Object(n.useEffect)((function(){O()}),[]);var O=function(){j.get("/participante").then((function(e){a(e.data),console.log(e.data)})).catch((function(e){console.log(e)}))};return Object(b.jsxs)("div",{className:"list row",children:[Object(b.jsxs)("div",{className:"col-md-6",children:[Object(b.jsx)("h4",{children:"Arrematantes do leil\xe3o"}),Object(b.jsx)("ul",{className:"list-group py-1",children:c&&c.map((function(e,t){return Object(b.jsx)("li",{className:"list-group-item "+(t===h?"active":""),onClick:function(){return function(e,t){d(e),p(t)}(e,t)},children:e.nome},t)}))})]}),Object(b.jsx)("div",{className:"col-md-6",children:r?Object(b.jsxs)("div",{children:[Object(b.jsx)("h4",{children:"Detalhe"}),Object(b.jsxs)("div",{children:[Object(b.jsx)("label",{children:Object(b.jsx)("strong",{children:"Nome:"})})," ",r.nome]}),Object(b.jsxs)("div",{children:[Object(b.jsx)("label",{children:Object(b.jsx)("strong",{children:"CPF:"})})," ",r.cpf]}),Object(b.jsx)(i.b,{to:"/participantes/"+r.id,className:"btn btn-warning",children:"Editar"})]}):Object(b.jsxs)("div",{children:[Object(b.jsx)("br",{}),Object(b.jsx)("p",{children:"Escolha um participante ao lado"})]})})]})},m=c(10),u=c(12),h=function(){var e={id:null,nome:"",cpf:""},t=Object(n.useState)(e),c=Object(l.a)(t,2),a=c[0],s=c[1],i=Object(n.useState)(!1),o=Object(l.a)(i,2),r=o[0],d=o[1],h=function(e){var t=e.target,c=t.name,n=t.value;s(Object(u.a)(Object(u.a)({},a),{},Object(m.a)({},c,n)))};return Object(b.jsx)("div",{className:"submit-form",children:r?Object(b.jsxs)("div",{children:[Object(b.jsx)("h4",{children:"Participante cadastrado com sucesso!"}),Object(b.jsx)("button",{className:"btn btn-success",onClick:function(){s(e),d(!1)},children:"Novo"})]}):Object(b.jsxs)("div",{children:[Object(b.jsxs)("div",{className:"form-group",children:[Object(b.jsx)("label",{htmlFor:"titulo",children:"Nome"}),Object(b.jsx)("input",{type:"text",className:"form-control",id:"nome",required:!0,value:a.nome,onChange:h,name:"nome"})]}),Object(b.jsxs)("div",{className:"form-group mt-4",children:[Object(b.jsx)("label",{htmlFor:"description",children:"CPF"}),Object(b.jsx)("input",{type:"text",className:"form-control",id:"cpf",required:!0,value:a.cpf,onChange:h,name:"cpf"})]}),Object(b.jsx)("button",{onClick:function(){var e={nome:a.nome,cpf:a.cpf};console.log(e),function(e){return j.post("/participante",e)}(e).then((function(e){s({id:e.data.id,nome:e.data.nome,cpf:e.data.cpf}),d(!0),console.log(e.data)})).catch((function(e){console.log(e)}))},className:"btn btn-success mt-4",children:"Cadastrar"})]})})},p=function(e){var t=Object(n.useState)({id:null,nome:"",cpf:""}),c=Object(l.a)(t,2),a=c[0],s=c[1],i=Object(n.useState)(""),o=Object(l.a)(i,2),r=o[0],d=o[1],h=function(e){(function(e){return j.get("/participante/".concat(e))})(e).then((function(e){s(e.data),console.log(e.data)})).catch((function(e){console.log(e)}))};Object(n.useEffect)((function(){h(e.match.params.id)}),[e.match.params.id]);var p=function(e){var t=e.target,c=t.name,n=t.value;s(Object(u.a)(Object(u.a)({},a),{},Object(m.a)({},c,n)))};return Object(b.jsx)("div",{children:a?Object(b.jsxs)("div",{className:"edit-form",children:[Object(b.jsx)("h4",{children:"Partcipante do leil\xe3o"}),Object(b.jsxs)("form",{children:[Object(b.jsxs)("div",{className:"form-group",children:[Object(b.jsx)("label",{htmlFor:"titulo",children:"Nome"}),Object(b.jsx)("input",{type:"text",className:"form-control",id:"nome",name:"nome",value:a.nome,onChange:p})]}),Object(b.jsxs)("div",{className:"form-group mt-3",children:[Object(b.jsx)("label",{htmlFor:"description",children:"CPF"}),Object(b.jsx)("input",{type:"text",className:"form-control",id:"cpf",name:"cpf",value:a.cpf,onChange:p})]})]}),Object(b.jsx)("button",{className:"btn btn-warning danger mt-3",onClick:function(){var t;(t=a.id,j.delete("/participante/".concat(t))).then((function(t){console.log(t.data),e.history.push("/participantes")})).catch((function(e){console.log(e)}))},children:"Excluir"}),Object(b.jsx)("button",{type:"submit",className:"btn btn-success mt-3 mx-3",onClick:function(){var e,t;(e=a.id,t=a,j.put("/participante/".concat(e),t)).then((function(e){console.log(e.data),d("Partcipante atualizado!")})).catch((function(e){console.log(e)}))},children:"Atualizar"}),Object(b.jsx)("p",{children:r})]}):Object(b.jsxs)("div",{children:[Object(b.jsx)("br",{}),Object(b.jsx)("p",{children:"Selecione um livro ..."})]})})};var O=function(){return Object(b.jsxs)(i.a,{children:[Object(b.jsxs)("nav",{className:"container navbar navbar-expand navbar-dark bg-dark",children:[Object(b.jsx)("h1",{className:"navbar-brand",children:"Leil\xe3o"}),Object(b.jsxs)("div",{className:"navbar-nav mr-auto",children:[Object(b.jsx)("li",{className:"nav-item",children:Object(b.jsx)(i.b,{to:"/participantes",className:"nav-link",children:"Participantes"})}),Object(b.jsx)("li",{className:"nav-item",children:Object(b.jsx)(i.b,{to:"/novo",className:"nav-link",children:"Novo participante"})})]})]}),Object(b.jsx)("div",{className:"container mt-3",children:Object(b.jsxs)(o.c,{children:[Object(b.jsx)(o.a,{exact:!0,path:["/","/participantes"],component:d}),Object(b.jsx)(o.a,{exact:!0,path:"/novo",component:h}),Object(b.jsx)(o.a,{path:"/participantes/:id",component:p})]})})]})};s.a.render(Object(b.jsx)(O,{}),document.getElementById("root"))}},[[60,1,2]]]);
//# sourceMappingURL=main.7bd92a2e.chunk.js.map